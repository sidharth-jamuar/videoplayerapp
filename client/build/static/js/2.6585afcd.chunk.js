(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{120:function(e,t,a){"use strict";a.d(t,"e",function(){return u}),a.d(t,"a",function(){return p}),a.d(t,"b",function(){return d}),a.d(t,"c",function(){return m}),a.d(t,"d",function(){return v});var n=a(5),s=a.n(n),i=a(17),r=a(15),o=a.n(r),c=a(7),l=a(2),u=function(e){return console.log(e),function(){var t=Object(i.a)(s.a.mark(function t(a){var n;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o()({method:"post",url:"/api/uploadVideo",data:e,headers:{"content-type":"multipart/form-data; boundary=".concat(e._boundary)}});case 2:n=t.sent,a(Object(c.a)(l.a.video.UPLOAD_VIDEO,n.data));case 4:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},p=function(){return function(){var e=Object(i.a)(s.a.mark(function e(t){var a;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.get("/api/latestVideos");case 2:a=e.sent,t(Object(c.a)(l.a.video.FETCH_VIDEOS,a.data));case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},d=function(e){return function(){var t=Object(i.a)(s.a.mark(function t(a){var n;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.a.get("/api/mostViewedVideos?isMobile=".concat(e));case 2:n=t.sent,a(Object(c.a)(l.a.video.FETCH_MOST_VIEWED,n.data));case 4:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},m=function(e){return function(){var t=Object(i.a)(s.a.mark(function t(a){var n;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.a.get("/api/user/videolist?user=".concat(e));case 2:n=t.sent,a(Object(c.a)(l.a.video.FETCH_OWN_VIDEOS,n.data));case 4:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},v=function(e){return Object(i.a)(s.a.mark(function t(){return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.a.get("/api/incrementView?id=".concat(e));case 2:t.sent;case 3:case"end":return t.stop()}},t,this)}))}},244:function(e,t,a){},423:function(e,t,a){"use strict";a.r(t);var n=a(35),s=a(9),i=a(10),r=a(11),o=a(12),c=a(13),l=a(0),u=a.n(l),p=a(16),d=(a(244),a(53),a(54),a(120)),m=a(24),v=a(418),f=[{key:"Anime",text:"Anime",value:"Anime"},{key:"Music",text:"Music",value:"Music"},{key:"Movies",text:"Movies",value:"Movies"},{key:"Drama",text:"Drama",value:"Drama"},{key:"Thriller",text:"Thriller",value:"Thriller"},{key:"Action",text:"Action",value:"Action"}],h=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(r.a)(this,Object(o.a)(t).call(this,e))).playVideo=function(e){console.log(e),a.props.history.push({pathname:"/video/".concat(e._id),state:{activeVideo:e}})},a.onSubmit=function(e){e.preventDefault();var t=new FormData;t.append("video",a.state.selectedFile,a.state.selectedFile.name),t.append("title",a.state.title),t.append("Description",a.state.Description),t.append("user",a.props.user.username),t.append("private",a.state.private),t.append("tags",a.state.videoTags),t.append("upload_date",(new Date).toLocaleString()),a.props.dispatch(Object(d.e)(t)),a.setState({uploadLink:!1,showVideos:!0})},a.renderMyVideos=function(){return a.props.videos.userVideos.map(function(e){return u.a.createElement(u.a.Fragment,{key:e._id},u.a.createElement("div",{className:"own-video-data-container",onClick:function(t){a.playVideo(e)}},u.a.createElement("div",{className:"own-video-image-container"},u.a.createElement("img",{src:"/assets/images/".concat(e.image),width:"200px",height:"300px"})),u.a.createElement("div",{className:"own-video-information-container"},u.a.createElement("div",null,e.title),u.a.createElement("div",null,e.Description))))})},a.renderRequests=function(){return a.props.user.requests.map(function(e,t){return u.a.createElement("div",{key:t,className:"request"},u.a.createElement("div",null,e.username," wants to view your video ",e.video),u.a.createElement("div",{className:"buttons-request"},u.a.createElement("button",{className:"btn-cancel btn-common",onClick:function(t){a.props.declineRequest(e.username,e.uploader)}},"Decline"),u.a.createElement("button",{className:"btn-cancel btn-request",onClick:function(t){a.props.approveRequest(e.username,e.id,e.uploader)}},"Approve")))})},a.handleCheckBox=function(e){var t=e.target.name,s=e.target.checked;a.setState(Object(n.a)({},t,s))},a.openMyVideos=function(){a.setState(function(e){return{showVideos:!e.showVideos,requests:!1}}),a.props.dispatch(Object(d.c)(a.props.user.username))},a.state={selectedFile:null,selectedImage:null,showVideos:!1,uploadLink:!1,requests:!1,private:!1,title:"",Description:"",videoTags:[]},a}return Object(c.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return console.log(this.state.videoTags),u.a.createElement("div",{className:"profile-container"},u.a.createElement("div",{className:"profile-data"},u.a.createElement("ul",{className:"profile-list"},u.a.createElement("li",{className:"profile-list-item"}," Welcome ",this.props.user.username),u.a.createElement("li",{className:"profile-list-item",onClick:function(t){e.setState(function(e){return{uploadLink:!e.uploadLink,showVideos:!1}})}},"Upload Video"),u.a.createElement("li",{className:"profile-list-item",onClick:function(t){e.openMyVideos()}},"My Videos"),u.a.createElement("li",{className:"profile-list-item",onClick:function(t){return e.setState(function(e){return{uploadLink:!1,showVideos:!1,requests:!e.requests}})}},"Requests"))),u.a.createElement("div",{className:"profile-body"},this.state.showVideos?u.a.createElement("div",{className:"own-video-container"},this.props.videos.userVideos&&this.props.videos.userVideos.length>0?u.a.createElement("div",{className:"own-video-card-container"},this.renderMyVideos()):u.a.createElement("div",{className:"loader"})):null,this.state.requests?this.props.user.requests&&this.props.user.requests.length>0?u.a.createElement("div",{className:"requests-container"},this.renderRequests()):u.a.createElement("div",null,"You have no pending requests"):null),this.state.uploadLink&&u.a.createElement("div",{className:"upload-container"},u.a.createElement("div",{className:"form-container"},u.a.createElement("form",{onSubmit:this.onSubmit},u.a.createElement("span",{className:"cross-icon",onClick:function(t){e.setState({uploadLink:!1})}},"X"),u.a.createElement("h3",{className:"heading-upload"},"Upload Video"),u.a.createElement("div",{className:"input-container"},u.a.createElement("input",{className:"input-file",type:"file",onChange:function(t){e.setState({selectedFile:t.target.files[0]})}})),u.a.createElement("div",{className:"input-container"},u.a.createElement("label",{className:"label-upload"},"Title"),u.a.createElement("input",{className:"input-text",type:"text",onChange:function(t){e.setState({title:t.target.value})},value:this.state.title})),u.a.createElement("div",{className:"input-container"},u.a.createElement("label",{className:"label-upload"},"Description"),u.a.createElement("input",{className:"input-text",type:"text",onChange:function(t){e.setState({Description:t.target.value})},value:this.state.Description})),u.a.createElement("div",{className:"input-container"},u.a.createElement("label",{className:"label-upload",id:"private-label"},"Mark as Private"),u.a.createElement("input",{className:"input-text",type:"checkbox",name:"private",checked:this.state.private,onChange:function(t){e.handleCheckBox(t)}})),u.a.createElement(v.a,{className:"drop-down-field",placeholder:"Tags",fluid:!0,multiple:!0,selection:!0,options:f,value:this.state.videoTags,onChange:function(t,a){e.setState({videoTags:a.value})}}),u.a.createElement("button",{type:"submit",className:"btn-submit",id:"upload-submit"},"Upload")))))}}]),t}(l.Component);t.default=Object(p.b)(function(e){return{user:e.users.user,videos:e.videos}},{declineRequest:m.b,approveRequest:m.a})(h)}}]);
//# sourceMappingURL=2.6585afcd.chunk.js.map