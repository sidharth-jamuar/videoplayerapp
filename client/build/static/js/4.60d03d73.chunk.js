(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{120:function(e,t,n){"use strict";n.d(t,"e",function(){return p}),n.d(t,"a",function(){return l}),n.d(t,"b",function(){return d}),n.d(t,"c",function(){return v}),n.d(t,"d",function(){return m});var r=n(5),a=n.n(r),s=n(17),i=n(15),o=n.n(i),c=n(7),u=n(2),p=function(e){return console.log(e),function(){var t=Object(s.a)(a.a.mark(function t(n){var r;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o()({method:"post",url:"/api/uploadVideo",data:e,headers:{"content-type":"multipart/form-data; boundary=".concat(e._boundary)}});case 2:r=t.sent,n(Object(c.a)(u.a.video.UPLOAD_VIDEO,r.data));case 4:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},l=function(){return function(){var e=Object(s.a)(a.a.mark(function e(t){var n;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.get("/api/latestVideos");case 2:n=e.sent,t(Object(c.a)(u.a.video.FETCH_VIDEOS,n.data));case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},d=function(e){return function(){var t=Object(s.a)(a.a.mark(function t(n){var r;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.a.get("/api/mostViewedVideos?isMobile=".concat(e));case 2:r=t.sent,n(Object(c.a)(u.a.video.FETCH_MOST_VIEWED,r.data));case 4:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},v=function(e){return function(){var t=Object(s.a)(a.a.mark(function t(n){var r;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.a.get("/api/user/videolist?user=".concat(e));case 2:r=t.sent,n(Object(c.a)(u.a.video.FETCH_OWN_VIDEOS,r.data));case 4:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},m=function(e){return Object(s.a)(a.a.mark(function t(){return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.a.get("/api/incrementView?id=".concat(e));case 2:t.sent;case 3:case"end":return t.stop()}},t,this)}))}},394:function(e,t,n){},417:function(e,t,n){"use strict";n.r(t);var r=n(9),a=n(10),s=n(11),i=n(12),o=n(13),c=n(0),u=n.n(c),p=n(388),l=n.n(p),d=(n(394),n(16)),v=n(120),m=n(24),f=(n(15),function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(s.a)(this,Object(i.a)(t).call(this,e))).doesUserHaveAccess=function(){var e=n.props.location.state.activeVideo.access.find(function(e){return e===n.props.user.username});return console.log(e),!!e},n.video=u.a.createRef(),n}return Object(o.a)(t,e),Object(a.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.location.state.activeVideo;console.log(this.props),void 0===this.props.user&&this.props.incrementView(e._id),this.props.user&&e.uploader!==this.props.user.username&&this.props.incrementView(e._id)}},{key:"componentDidUpdate",value:function(e){console.log(this.props),console.log(e);this.props.location.state.activeVideo;this.props.user,e.user}},{key:"render",value:function(){var e=this,t=this.props.location.state.activeVideo;return console.log(t),void 0===this.props.user&&t.private?u.a.createElement("div",{className:"video-is-private"},"This video has been marked private by the user.If you want to view this video please send a request to the uploader. Please Login to send request.",u.a.createElement("div",{className:"request-send-container"},u.a.createElement("button",{className:"btn-common btn-cancel",onClick:function(t){e.props.history.push("/")}},"Go To Homepage"),u.a.createElement("button",{className:"btn-request btn-common",onClick:function(t){e.props.history.push("/login")}},"Login"))):this.props.user&&t.private&&t.uploader!==this.props.user.username&&!this.doesUserHaveAccess()?u.a.createElement("div",{className:"video-is-private"},"This video has been marked private by the user.If you want to view this video please send a request to the uploader.",u.a.createElement("div",{className:"request-send-container"},u.a.createElement("button",{className:"btn-common btn-cancel",onClick:function(t){e.props.history.push("/")}},"Cancel"),u.a.createElement("button",{className:"btn-request btn-common",onClick:function(n){e.props.sendVideoRequest(t.uploader,e.props.user.username,t.title,t._id,e.props.history)}},"Send Request"))):u.a.createElement("div",{className:"react-player-container"},u.a.createElement("div",{className:"react-player"},u.a.createElement(l.a,{url:t.Url,controls:!0,playing:!0,ref:this.video,pip:!0,width:"100%",height:"100%"})),u.a.createElement("div",{className:"target-info-container"},t.views&&u.a.createElement("div",null,u.a.createElement("span",null,"Views:"),t.views),t.title&&u.a.createElement("div",null,u.a.createElement("span",null,"Title:"),t.title),t.Description&&u.a.createElement("div",null,u.a.createElement("span",null,"Description:"),t.Description)))}}]),t}(c.Component));t.default=Object(d.b)(function(e){return{user:e.users.user}},{incrementView:v.d,sendVideoRequest:m.f},function(e,t,n){return Object.assign({},n,{user:e.user,incrementView:t.incrementView,sendVideoRequest:t.sendVideoRequest})})(f)}}]);
//# sourceMappingURL=4.60d03d73.chunk.js.map